(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";e.s(["default",()=>C],31713);var t=e.i(43476),a=e.i(71645);let n={totalGamesPlayed:0,totalPerfectGames:0,todaysScore:0,hasPlayedToday:!1,localGameIndex:0,playerTheme:"dark"};async function l(){let e=await fetch("https://movie-rating-server-gpf9arfcesb5hahd.westus3-01.azurewebsites.net:443/MovieInfo",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw Error("Fetch movie data failed");return await e.json()}function s(e){let{text:a}=e;return(0,t.jsx)("div",{className:"w-dvw h-dvh flex self-center content-center justify-self-center text-center",children:(0,t.jsx)("p",{className:"self-center place-self-center w-full",children:a})})}function o(e){let{text:a}=e;return(0,t.jsx)("div",{className:"w-full h-full flex self-center content-center justify-self-center text-center",children:(0,t.jsx)("p",{className:"self-center place-self-center",children:a})})}function i(e){let{imgLink:n,imgAlt:l,imgStyle:s}=e,[i,c]=(0,a.useState)("");return(0,a.useEffect)(()=>{!async function(){c(await r(n))}()},[n]),""===i?(0,t.jsx)(o,{text:"Loading Movie Poster..."}):(0,t.jsx)("img",{src:i,alt:l,className:"".concat(s)})}async function r(e){return"".concat(e)}function c(e){let{movie:a}=e,n=a.Actors.split(",");function l(e){let{actor:a}=e;return(0,t.jsx)("li",{className:"movieInfoPrimaryText",children:a})}return(0,t.jsxs)("div",{className:"mainMovieInfoDiv",children:[(0,t.jsx)(i,{imgLink:a.Poster,imgAlt:"".concat(a.Title," Poster"),imgStyle:"moviePosterImage"}),(0,t.jsxs)("div",{className:"movieInfoDivCol2",children:[(0,t.jsxs)("div",{className:"movieInfoTextDiv",children:[(0,t.jsx)("p",{className:"movieInfoSecondaryText",children:"Director:"}),(0,t.jsx)("p",{className:"movieInfoPrimaryText",children:a.Director})]}),(0,t.jsxs)("div",{className:"movieInfoTextDiv",children:[(0,t.jsx)("p",{className:"movieInfoSecondaryText",children:"Top Billed:"}),(0,t.jsx)("div",{className:"movieActorBulletPoints",children:(0,t.jsx)(function(e){let{count:a}=e,s=[];for(let e=0;e<a;e++)s.push((0,t.jsx)(l,{actor:n[e]},e));return s},{count:n.length})})]}),(0,t.jsxs)("div",{className:"movieInfoLongTextDiv",children:[(0,t.jsx)("p",{className:"movieInfoSecondaryText",children:"Movie Summary:"}),(0,t.jsx)("p",{className:"movieInfoPrimaryText text-balance",children:a.Plot})]})]})]})}e.i(47167);let d=[500,300,0],m=[.5,5,5];function u(e){let{ratingSourceInt:t,movieRatingString:a,playerMovieRating:n}=e,l=function(e){let{ratingSourceInt:t,movieRatingString:a}=e,n=parseFloat(a);if(Number.isFinite(n)&&!Number.isNaN(n))return n;let l=[a.split("/10"),a.split("/100"),a.split("%")];return Number(l[t]?l[t][0]:"")}({ratingSourceInt:t,movieRatingString:a}),s=[l-m[t],l+m[t],l];return n===s[2]?0:n>=s[0]&&n<=s[1]?1:2}function x(e){let{selectedIndex:a}=e;function n(e){let{index:n}=e;return(0,t.jsx)("div",{className:"".concat(n==a?"galleryIconSelected":n<a?"galleryIconInactive":"galleryIconDefault")})}return(0,t.jsx)("div",{className:"galleryIconsDiv",children:(0,t.jsx)(function(e){let{count:a}=e,l=[];for(let e=0;e<a;e++)l.push((0,t.jsx)(n,{index:e},e));return l},{count:3})})}let y=["Perfect Rating!","Pretty Close","Incorrect Rating"],g=["bg-[#00ad5c]","bg-[#02B99E]","bg-[#FF0000]"];function h(e){let{visible:a,ratingSourceInt:n,actualMovieRating:l,playerMovieRating:s,playerStats:o,onNextMovie:i}=e,r=u({ratingSourceInt:n,movieRatingString:l,playerMovieRating:s});function c(e){let{titleText:a,statsText:n}=e;return(0,t.jsxs)("div",{className:"divCenterHorizontalText",children:[(0,t.jsx)("p",{className:"scoreTextSecondary",children:a}),(0,t.jsx)("p",{className:"scoreTextPrimary",children:n})]})}return(0,t.jsx)(t.Fragment,{children:a&&(0,t.jsx)("div",{className:"fullScreenBlockingDiv",children:(0,t.jsxs)("div",{className:"".concat(g[r]," popupBackgroundDiv"),children:[(0,t.jsxs)("div",{className:"popupTextContainer",children:[(0,t.jsx)("p",{className:"popupTitleText",children:y[r]}),(0,t.jsx)(c,{titleText:"Your Rating:",statsText:"".concat(s)}),(0,t.jsx)(c,{titleText:"Actual Rating:",statsText:"".concat(l)}),(0,t.jsx)(c,{titleText:"Your Score Today:",statsText:o?"".concat(o.todaysScore):"No Stats"})]}),(0,t.jsx)("div",{onClick:()=>null==i?void 0:i(),className:"submitButton",children:(0,t.jsx)("p",{children:"NEXT MOVIE"})})]})})})}function v(e){let{visible:a,playerStats:n}=e;function l(e){let{text:a,stats:n}=e;return(0,t.jsxs)("div",{className:"divCenterHorizontalText",children:[(0,t.jsx)("p",{className:"scoreTextSecondary",children:a}),(0,t.jsx)("p",{className:"scoreTextPrimary",children:null!=n?n:"No Stats"})]})}return(0,t.jsx)(t.Fragment,{children:a&&(0,t.jsx)("div",{className:"fullScreenBlockingDiv",onClick:e=>{e.stopPropagation()},children:(0,t.jsx)("div",{className:"popupBackgroundDiv bg-[#001f1a]",children:(0,t.jsxs)("div",{className:"popupTextContainer",children:[(0,t.jsx)("p",{className:"popupTitleText",children:"Thank you for playing today!"}),(0,t.jsx)(l,{text:"Today's Score:",stats:null==n?void 0:n.todaysScore}),(0,t.jsx)(l,{text:"Total Games Played:",stats:null==n?void 0:n.totalGamesPlayed}),(0,t.jsx)(l,{text:"Number of Perfect Games:",stats:null==n?void 0:n.totalPerfectGames})]})})})})}function f(e){return localStorage.getItem(e)}function p(e,t){localStorage.setItem(e,t)}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e=>"".concat(t).concat(e);try{p(a("totalGamesPlayed"),String(e.totalGamesPlayed)),p(a("totalPerfectGames"),String(e.totalPerfectGames)),p(a("todaysScore"),String(e.todaysScore)),p(a("hasPlayedToday"),e.hasPlayedToday?"true":"false"),p(a("localGameIndex"),String(e.localGameIndex)),p(a("playerTheme"),e.playerTheme)}catch(e){console.error("Error saving player stats to localStorage",e)}console.log("SAVING LOCAL PLAYER STATS:"),console.log(e)}function S(e){let{playerStats:t}=e;document.body.classList.remove("lightmode"),document.body.classList.add("darkmode"),t.playerTheme="dark",j(t)}function T(e){let{playerStats:t}=e;document.body.classList.remove("darkmode"),document.body.classList.add("lightmode"),t.playerTheme="light",j(t)}function N(e){let{playerStats:a}=e;return(0,t.jsx)("div",{className:"switchThemeButton",onClick:()=>(function(e){let{playerStats:t}=e;(null==t?void 0:t.playerTheme)==="light"?S({playerStats:t}):T({playerStats:t})})({playerStats:a}),children:(0,t.jsx)("p",{children:"SWITCH THEME"})})}let I=[0,0,0],P=[10,100,100],R=[5,50,50],b=[.1,1,1],G=["IMDB","Rotten Tomatoes","Metacritic"];function C(){var e;let[o,i]=(0,a.useState)([]),[r,m]=(0,a.useState)(0),[y,g]=(0,a.useState)(R[0]),[p,C]=(0,a.useState)(!1),[k,D]=(0,a.useState)(null),[M,B]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=async()=>{let e,t=await l();i(t.movies),g(R[t.movies[0].RandomRatingInt]);let a=(e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=t=>"".concat(e).concat(t),a=f(t("totalGamesPlayed")),n=f(t("totalPerfectGames")),l=f(t("todaysScore")),s=f(t("hasPlayedToday")),o=f(t("localGameIndex")),i=f(t("playerTheme"));if(![a,n,l,s,o,i].some(e=>null!==e))return null;let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===e)return t;let a=Number(e);return Number.isFinite(a)?a:t};return{totalGamesPlayed:r(a,0),totalPerfectGames:r(n,0),todaysScore:r(l,0),hasPlayedToday:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?t:"true"===e||"1"===e}(s,!1),localGameIndex:r(o,0),playerTheme:"light"===i||"dark"===i?i:"dark"}}())?(console.log("local data found:"),console.log(e),D(e),e):(console.log("no current local stats: saving new player stats"),j(n),D(n),n);a.localGameIndex!==t.dailyId&&(a.hasPlayedToday=!1,a.localGameIndex=t.dailyId,a.todaysScore=0,console.log("Resetting Daily Stats"),console.log(a)),"light"===a.playerTheme?T({playerStats:a}):S({playerStats:a}),D(a),B(!0),j(a)};M||e()},[o,y,k,M]),M)?(0,t.jsx)("main",{className:"mainPage",children:(0,t.jsxs)("div",{className:"mainContainer",children:[(0,t.jsxs)("div",{className:"contentContainer",children:[(0,t.jsxs)("div",{className:"mainQuestionDiv",children:[(0,t.jsx)("p",{children:"What do you think"}),(0,t.jsxs)("p",{className:"movieTitleText",children:[o[r].Title," (",o[r].Year,")"]}),(0,t.jsxs)("p",{children:["is rated on ",G[o[r].RandomRatingInt],"?"]})]}),(0,t.jsx)(c,{movie:o[r]}),(0,t.jsxs)("div",{className:"controllerContentContainer",children:[(0,t.jsxs)("div",{className:"sliderContainer",children:[(0,t.jsx)("input",{type:"range",name:"ratingSlider",id:"ratingSlider",min:I[o[r].RandomRatingInt],max:P[o[r].RandomRatingInt],step:b[o[r].RandomRatingInt],value:y,onChange:e=>g(parseFloat(e.target.value)),className:"ratingSliderStyle"}),(0,t.jsxs)("label",{htmlFor:"ratingSlider",className:"sliderLabelText",children:["Your Rating: ",0===o[r].RandomRatingInt?Number(y).toFixed(1):y]})]}),(0,t.jsx)(function(e){let{currentPlayerMovieRating:a,playerStats:n}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{onClick:()=>void(n&&(!function(e){let{ratingSourceInt:t,movieRatingString:a,playerMovieRating:n,playerStats:l}=e,s=d[u({ratingSourceInt:t,movieRatingString:a,playerMovieRating:n})];l.todaysScore+=s,console.log("TODAYS SCORE: "+l.todaysScore)}({ratingSourceInt:o[r].RandomRatingInt,movieRatingString:o[r].RatingValue,playerMovieRating:a,playerStats:n}),j(n)),C(!0)),className:"submitButton",children:(0,t.jsx)("p",{children:"SUBMIT RATING"})})})},{currentPlayerMovieRating:y,playerStats:k}),(0,t.jsx)(x,{selectedIndex:r})]})]}),(0,t.jsx)(h,{ratingSourceInt:o[r].RandomRatingInt,actualMovieRating:o[r].RatingValue,playerMovieRating:y,playerStats:k,visible:p,onNextMovie:function(){let e=function(e){let{currentIndex:t,arrayLength:a}=e;return t<a?t+1:null}({currentIndex:r,arrayLength:o.length-1});e?(m(e),C(!1),g(R[o[e].RandomRatingInt])):(m(0),C(!1),g(R[o[0].RandomRatingInt]),k&&function(e){let{playedToday:t,playerStats:a}=e;a.totalGamesPlayed+=1;let l=o.length,s=d[0];a.todaysScore===s*l&&(a.totalPerfectGames+=1),D(e=>{let a=e?{...e,hasPlayedToday:t}:{...n,hasPlayedToday:t};return j(a),a})}({playedToday:!0,playerStats:k}))}}),(0,t.jsx)(v,{visible:null!=(e=null==k?void 0:k.hasPlayedToday)&&e,playerStats:k}),(0,t.jsx)(N,{playerStats:null!=k?k:n})]})}):(0,t.jsx)(s,{text:"Could not load movie data from server. Please try again."})}}]);