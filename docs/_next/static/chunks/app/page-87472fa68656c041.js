(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1290:()=>{},5077:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var n=a(5155),i=a(2115);let o={totalGamesPlayed:0,totalPerfectGames:0,todaysScore:0,hasPlayedToday:!1,localGameIndex:0,todaysMovieRatings:[],playerTheme:"dark"};async function s(){let e=await fetch("https://movie-rating-server-gpf9arfcesb5hahd.westus3-01.azurewebsites.net:443/MovieInfo",{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw Error("Fetch movie data failed");return await e.json()}function l(e){let{text:t}=e;return(0,n.jsx)("div",{className:"w-dvw h-dvh flex self-center content-center justify-self-center text-center",children:(0,n.jsx)("p",{className:"self-center place-self-center w-full",children:t})})}function r(e){let{text:t}=e;return(0,n.jsx)("div",{className:"w-full h-full flex self-center content-center justify-self-center text-center",children:(0,n.jsx)("p",{className:"self-center place-self-center",children:t})})}function c(e){let{imgLink:t,imgAlt:a,imgStyle:o}=e,[s,l]=(0,i.useState)("");return(0,i.useEffect)(()=>{!async function(){l(await d(t))}()},[t]),""===s?(0,n.jsx)(r,{text:"Loading Movie Poster..."}):(0,n.jsx)("img",{src:s,alt:a,className:"".concat(o)})}async function d(e){return"".concat(e)}function m(e){let{movie:t}=e,a=t.Actors.split(",");function i(e){let{actor:t}=e;return(0,n.jsx)("li",{className:"movieInfoPrimaryText",children:t})}return(0,n.jsxs)("div",{className:"mainMovieInfoDiv",children:[(0,n.jsx)(c,{imgLink:t.Poster,imgAlt:"".concat(t.Title," Poster"),imgStyle:"moviePosterImage"}),(0,n.jsxs)("div",{className:"movieInfoDivCol2",children:[(0,n.jsxs)("div",{className:"movieInfoTextDiv",children:[(0,n.jsx)("p",{className:"movieInfoSecondaryText",children:"Director:"}),(0,n.jsx)("p",{className:"movieInfoPrimaryText",children:t.Director})]}),(0,n.jsxs)("div",{className:"movieInfoTextDiv",children:[(0,n.jsx)("p",{className:"movieInfoSecondaryText",children:"Top Billed:"}),(0,n.jsx)("div",{className:"movieActorBulletPoints",children:(0,n.jsx)(function(e){let{count:t}=e,o=[];for(let e=0;e<t;e++)o.push((0,n.jsx)(i,{actor:a[e]},e));return o},{count:a.length})})]}),(0,n.jsxs)("div",{className:"movieInfoLongTextDiv",children:[(0,n.jsx)("p",{className:"movieInfoSecondaryText",children:"Movie Summary:"}),(0,n.jsx)("p",{className:"movieInfoPrimaryText text-balance",children:t.Plot})]})]})]})}a(1290);let u=[500,300,0],g=[.5,5,5];function v(e){let{ratingSourceInt:t,movieRatingString:a}=e,n=parseFloat(a);if(Number.isFinite(n)&&!Number.isNaN(n))return n;let i=[a.split("/10"),a.split("/100"),a.split("%")];return Number(i[t]?i[t][0]:"")}function x(e){let{ratingSourceInt:t,movieRatingString:a,playerMovieRating:n}=e,i=v({ratingSourceInt:t,movieRatingString:a}),o=[i-g[t],i+g[t],i];return n===o[2]?0:n>=o[0]&&n<=o[1]?1:2}function y(e){let{selectedIndex:t}=e;function a(e){let{index:a}=e;return(0,n.jsx)("div",{className:"".concat(a==t?"galleryIconSelected":a<t?"galleryIconInactive":"galleryIconDefault")})}return(0,n.jsx)("div",{className:"galleryIconsDiv",children:(0,n.jsx)(function(e){let{count:t}=e,i=[];for(let e=0;e<t;e++)i.push((0,n.jsx)(a,{index:e},e));return i},{count:3})})}let h=["Perfect Rating!","Pretty Close","Incorrect Rating"],p=["bg-[#00ad5c]","bg-[#02B99E]","bg-[#FF0000]"];function f(e){let{visible:t,ratingSourceInt:a,actualMovieRating:i,playerMovieRating:o,playerStats:s,onNextMovie:l}=e,r=x({ratingSourceInt:a,movieRatingString:i,playerMovieRating:o});function c(e){let{titleText:t,statsText:a}=e;return(0,n.jsxs)("div",{className:"divCenterHorizontalText",children:[(0,n.jsx)("p",{className:"scoreTextSecondary",children:t}),(0,n.jsx)("p",{className:"scoreTextPrimary",children:a})]})}return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsx)("div",{className:"fullScreenBlockingDiv",children:(0,n.jsxs)("div",{className:"".concat(p[r]," popupBackgroundDiv"),children:[(0,n.jsxs)("div",{className:"popupTextContainer",children:[(0,n.jsx)("p",{className:"popupTitleText",children:h[r]}),(0,n.jsx)(c,{titleText:"Your Rating:",statsText:"".concat(o).concat(["/10","%","/100"][a])}),(0,n.jsx)(c,{titleText:"Actual Rating:",statsText:"".concat(i)}),(0,n.jsx)(c,{titleText:"Your Score Today:",statsText:s?"".concat(s.todaysScore):"No Stats"})]}),(0,n.jsx)("div",{onClick:()=>null==l?void 0:l(),className:"submitButton",children:(0,n.jsx)("p",{children:"NEXT MOVIE"})})]})})})}function S(e){let{movies:t,visible:a,playerStats:i}=e;function o(e){let{text:t,stats:a}=e;return(0,n.jsxs)("div",{className:"divCenterHorizontalText",children:[(0,n.jsx)("p",{className:"scoreTextSecondary",children:t}),(0,n.jsx)("p",{className:"scoreTextPrimary",children:null!=a?a:"No Stats"})]})}return(0,n.jsx)(n.Fragment,{children:a&&(0,n.jsx)("div",{className:"fullScreenBlockingDiv",onClick:e=>{e.stopPropagation()},children:(0,n.jsxs)("div",{className:"popupBackgroundDiv bg-[#001f1a]",children:[(0,n.jsxs)("div",{className:"popupTextContainer",children:[(0,n.jsxs)("p",{className:"popupTitleText",children:["Today's Final Score: ",null==i?void 0:i.todaysScore]}),(0,n.jsx)(n.Fragment,{children:(null==i?void 0:i.todaysMovieRatings.length)===3&&(0,n.jsx)(function(){function e(e){let{movie:t,playerMovieRating:a}=e;function i(e){let{text:t,stats:a}=e;return(0,n.jsxs)("div",{className:"divCenterHorizontalTextSmall",children:[(0,n.jsx)("p",{className:"scoreTextSecondarySmall",children:t}),(0,n.jsx)("p",{className:"scoreTextPrimarySmall",children:null!=a?a:"No Stats"})]})}return(0,n.jsxs)("div",{className:"scoreScreenMoviePosterAndRatingDiv",children:[(0,n.jsx)(c,{imgLink:t.Poster,imgAlt:String(t.Poster),imgStyle:"smallMoviePosterImage"}),(0,n.jsx)(i,{text:"Actual Rating: ",stats:Number(v({ratingSourceInt:t.RandomRatingInt,movieRatingString:t.RatingValue}))}),(0,n.jsx)(i,{text:"Your Rating: ",stats:0===t.RandomRatingInt?a:Number(a.toFixed(1))})]})}return(0,n.jsxs)("div",{className:"scoreScreenMoviePostersAndRatingsContainer",children:[(0,n.jsx)(e,{movie:t[0],playerMovieRating:i?i.todaysMovieRatings[0]:0}),(0,n.jsx)(e,{movie:t[1],playerMovieRating:i?i.todaysMovieRatings[1]:0}),(0,n.jsx)(e,{movie:t[2],playerMovieRating:i?i.todaysMovieRatings[2]:0})]})},{})}),(0,n.jsxs)("div",{className:"w-fit flex flex-row gap-[1em] self-center",children:[(0,n.jsx)(o,{text:"Total Games Played:",stats:null==i?void 0:i.totalGamesPlayed}),(0,n.jsx)(o,{text:"Number of Perfect Games:",stats:null==i?void 0:i.totalPerfectGames})]})]}),(0,n.jsx)(function(){let e=[u[x({ratingSourceInt:t[0].RandomRatingInt,movieRatingString:t[0].RatingValue,playerMovieRating:i?i.todaysMovieRatings[0]:0})],u[x({ratingSourceInt:t[1].RandomRatingInt,movieRatingString:t[1].RatingValue,playerMovieRating:i?i.todaysMovieRatings[1]:0})],u[x({ratingSourceInt:t[2].RandomRatingInt,movieRatingString:t[2].RatingValue,playerMovieRating:i?i.todaysMovieRatings[2]:0})]],a="Check out my movie rating score! \uD83C\uDFAC\uD83C\uDF7F\n\n"+String(t[0].Title)+": "+String(e[0])+",\n"+String(t[1].Title)+": "+String(e[1])+",\n"+String(t[2].Title)+": "+String(e[2])+"\n"+"Total Score: ".concat(null==i?void 0:i.todaysScore," points");return(0,n.jsx)("div",{className:"shareScoreButtonDiv",onClick:function(){navigator.clipboard.writeText(a).then(()=>{}).catch(e=>{console.error("Could not copy text: ",e)}),console.log("Score copied to clipboard: "),console.log(a),alert("Score copied to clipboard! Share it with your friends!")},children:(0,n.jsx)("p",{className:"shareScoreButtonText",children:"Share Your Score"})})},{})]})})})}function j(e){return localStorage.getItem(e)}function R(e,t){localStorage.setItem(e,t)}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e=>"".concat(t).concat(e);try{R(a("totalGamesPlayed"),String(e.totalGamesPlayed)),R(a("totalPerfectGames"),String(e.totalPerfectGames)),R(a("todaysScore"),String(e.todaysScore)),R(a("hasPlayedToday"),e.hasPlayedToday?"true":"false"),R(a("localGameIndex"),String(e.localGameIndex)),R(a("todaysMovieRatings"),JSON.stringify(e.todaysMovieRatings)),R(a("playerTheme"),e.playerTheme)}catch(e){console.error("Error saving player stats to localStorage",e)}console.log("SAVING LOCAL PLAYER STATS:"),console.log(e)}function T(e){let{playerStats:t}=e;document.body.classList.remove("lightmode"),document.body.classList.add("darkmode"),t.playerTheme="dark",N(t)}function I(e){let{playerStats:t}=e;document.body.classList.remove("darkmode"),document.body.classList.add("lightmode"),t.playerTheme="light",N(t)}function P(e){let{playerStats:t}=e;return(0,n.jsx)("div",{className:"switchThemeButton",onClick:()=>(function(e){let{playerStats:t}=e;(null==t?void 0:t.playerTheme)==="light"?T({playerStats:t}):I({playerStats:t})})({playerStats:t}),children:(0,n.jsx)("p",{children:"SWITCH THEME"})})}let M=[0,0,0],b=[10,100,100],D=[5,50,50],C=[.1,1,1],G=["IMDB","Rotten Tomatoes","Metacritic"];function k(){return(0,n.jsxs)("div",{className:"siteFooterDiv",onClick:()=>void alert("Daily Movie Rating\n\nA daily game where you rate movies based on their actual ratings from popular movie rating sites!\n\nData provided by the OMDB API.\n\nDesigned and Developed by iArtemyst."),children:[(0,n.jsx)("p",{children:"Daily Movie Rating \xa9 2025 | Designed by iArtemyst"}),(0,n.jsx)("p",{children:"Data Updated Dec. 2025"})]})}function w(){var e;let[t,a]=(0,i.useState)([]),[r,c]=(0,i.useState)(0),[d,g]=(0,i.useState)(D[0]),[v,h]=(0,i.useState)(!1),[p,R]=(0,i.useState)(null),[w,A]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=async()=>{let e=await s();a(e.movies),g(D[e.movies[0].RandomRatingInt]);let t=function(){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=t=>"".concat(e).concat(t),a=j(t("totalGamesPlayed")),n=j(t("totalPerfectGames")),i=j(t("todaysScore")),o=j(t("hasPlayedToday")),s=j(t("localGameIndex")),l=j(t("todaysMovieRatings")),r=j(t("playerTheme"));if(![a,n,i,o,s,l,r].some(e=>null!==e))return null;let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===e)return t;let a=Number(e);return Number.isFinite(a)?a:t};return{totalGamesPlayed:c(a,0),totalPerfectGames:c(n,0),todaysScore:c(i,0),hasPlayedToday:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?t:"true"===e||"1"===e}(o,!1),localGameIndex:c(s,0),todaysMovieRatings:l?JSON.parse(l):[],playerTheme:"light"===r||"dark"===r?r:"dark"}}();return e?(console.log("local data found:"),console.log(e),R(e),e):(console.log("no current local stats: saving new player stats"),N(o),R(o),o)}();t.localGameIndex!==e.dailyId&&(t.hasPlayedToday=!1,t.localGameIndex=e.dailyId,t.todaysScore=0,t.todaysMovieRatings=[],console.log("Resetting Daily Stats"),console.log(t)),"light"===t.playerTheme?I({playerStats:t}):T({playerStats:t}),t.todaysMovieRatings.length<e.movies.length&&(console.log("Partially completed game found for today, resuming..."),c(t.todaysMovieRatings.length),g(D[e.movies[t.todaysMovieRatings.length].RandomRatingInt])),R(t),A(!0),N(t)};w||e()},[t,d,p,w]),w)?(0,n.jsx)("main",{className:"mainPage",children:(0,n.jsxs)("div",{className:"mainContainer",children:[(0,n.jsxs)("div",{className:"contentContainer",children:[(0,n.jsxs)("div",{className:"mainQuestionDiv",children:[(0,n.jsx)("p",{children:"What do you think"}),(0,n.jsxs)("p",{className:"movieTitleText",children:[t[r].Title," (",t[r].Year,")"]}),(0,n.jsxs)("p",{children:["is rated on ",G[t[r].RandomRatingInt],"?"]})]}),(0,n.jsx)(m,{movie:t[r]}),(0,n.jsxs)("div",{className:"controllerContentContainer",children:[(0,n.jsxs)("div",{className:"sliderContainer",children:[(0,n.jsx)("input",{type:"range",name:"ratingSlider",id:"ratingSlider",min:M[t[r].RandomRatingInt],max:b[t[r].RandomRatingInt],step:C[t[r].RandomRatingInt],value:d,onChange:e=>g(parseFloat(e.target.value)),className:"ratingSliderStyle"}),(0,n.jsxs)("label",{htmlFor:"ratingSlider",className:"sliderLabelText",children:["Your Rating: ",0===t[r].RandomRatingInt?Number(d).toFixed(1):d]})]}),(0,n.jsx)(function(e){let{currentPlayerMovieRating:a,playerStats:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{onClick:()=>void(i&&(!function(e){let{ratingSourceInt:t,movieRatingString:a,playerMovieRating:n,playerStats:i}=e,o=u[x({ratingSourceInt:t,movieRatingString:a,playerMovieRating:n})];i.todaysScore+=o,i.todaysMovieRatings.push(n),console.log("TODAYS SCORE: "+i.todaysScore)}({ratingSourceInt:t[r].RandomRatingInt,movieRatingString:t[r].RatingValue,playerMovieRating:a,playerStats:i}),N(i)),h(!0)),className:"submitButton",children:(0,n.jsx)("p",{children:"SUBMIT RATING"})})})},{currentPlayerMovieRating:d,playerStats:p}),(0,n.jsx)(y,{selectedIndex:r})]})]}),(0,n.jsx)(f,{ratingSourceInt:t[r].RandomRatingInt,actualMovieRating:t[r].RatingValue,playerMovieRating:d,playerStats:p,visible:v,onNextMovie:function(){let e=function(e){let{currentIndex:t,arrayLength:a}=e;return t<a?t+1:null}({currentIndex:r,arrayLength:t.length-1});e?(c(e),h(!1),g(D[t[e].RandomRatingInt])):(c(0),h(!1),g(D[t[0].RandomRatingInt]),p&&function(e){let{playedToday:a,playerStats:n}=e;n.totalGamesPlayed+=1;let i=t.length,s=u[0];n.todaysScore===s*i&&(n.totalPerfectGames+=1),R(e=>{let t=e?{...e,hasPlayedToday:a}:{...o,hasPlayedToday:a};return N(t),t})}({playedToday:!0,playerStats:p}))}}),(0,n.jsx)(S,{movies:t,visible:null!=(e=null==p?void 0:p.hasPlayedToday)&&e,playerStats:p}),(0,n.jsx)(P,{playerStats:null!=p?p:o}),(0,n.jsx)(k,{})]})}):(0,n.jsx)(l,{text:"Could not load movie data from server. Please try again."})}},8447:(e,t,a)=>{Promise.resolve().then(a.bind(a,5077))}},e=>{e.O(0,[741,441,255,358],()=>e(e.s=8447)),_N_E=e.O()}]);