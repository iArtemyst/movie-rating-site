(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";function t(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(a,r)}function n(e){return function(){var n=this,a=arguments;return new Promise(function(r,o){var i=e.apply(n,a);function l(e){t(i,r,o,l,s,"next",e)}function s(e){t(i,r,o,l,s,"throw",e)}l(void 0)})}}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){var a;a=n[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,a,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.s(["default",()=>D],31713);var l=e.i(90571),l=l,s=e.i(43476),c=e.i(71645),u={totalGamesPlayed:0,totalPerfectGames:0,todaysScore:0,hasPlayedToday:!1,localGameIndex:0,playerTheme:"dark"},l=l;e.i(47167);var l=l;function d(e){var t=e.text;return(0,s.jsx)("div",{className:"w-dvw h-dvh flex self-center content-center justify-self-center text-center",children:(0,s.jsx)("p",{className:"self-center place-self-center w-full",children:t})})}function m(e){var t=e.text;return(0,s.jsx)("div",{className:"w-full h-full flex self-center content-center justify-self-center text-center",children:(0,s.jsx)("p",{className:"self-center place-self-center",children:t})})}function v(e){var t=e.imgLink,a=e.imgAlt,r=e.imgStyle,o=i((0,c.useState)(""),2),u=o[0],d=o[1];return(0,c.useEffect)(function(){n(function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:var a;return[4,(a=t,n(function(){return(0,l.__generator)(this,function(e){return[2,"".concat(a)]})})())];case 1:return d(e.sent()),[2]}})})()},[t]),""===u?(0,s.jsx)(m,{text:"Loading Movie Poster..."}):(0,s.jsx)("img",{src:u,alt:a,className:"".concat(r)})}function y(e){var t=e.movie,n=t.Actors.split(",");function a(e){var t=e.actor;return(0,s.jsx)("li",{className:"movieInfoPrimaryText",children:t})}return(0,s.jsxs)("div",{className:"mainMovieInfoDiv",children:[(0,s.jsx)(v,{imgLink:t.Poster,imgAlt:"".concat(t.Title," Poster"),imgStyle:"moviePosterImage"}),(0,s.jsxs)("div",{className:"movieInfoDivCol2",children:[(0,s.jsxs)("div",{className:"movieInfoTextDiv",children:[(0,s.jsx)("p",{className:"movieInfoSecondaryText",children:"Director:"}),(0,s.jsx)("p",{className:"movieInfoPrimaryText",children:t.Director})]}),(0,s.jsxs)("div",{className:"movieInfoTextDiv",children:[(0,s.jsx)("p",{className:"movieInfoSecondaryText",children:"Top Billed:"}),(0,s.jsx)("div",{className:"movieActorBulletPoints",children:(0,s.jsx)(function(e){for(var t=e.count,r=[],o=0;o<t;o++)r.push((0,s.jsx)(a,{actor:n[o]},o));return r},{count:n.length})})]}),(0,s.jsxs)("div",{className:"movieInfoLongTextDiv",children:[(0,s.jsx)("p",{className:"movieInfoSecondaryText",children:"Movie Summary:"}),(0,s.jsx)("p",{className:"movieInfoPrimaryText text-balance",children:t.Plot})]})]})]})}var f=[500,300,0],g=[.5,5,5];function x(e){var t=e.ratingSourceInt,n=e.movieRatingString,a=e.playerMovieRating,r=function(e){var t=e.ratingSourceInt,n=e.movieRatingString,a=parseFloat(n);if(Number.isFinite(a)&&!Number.isNaN(a))return a;var r=[n.split("/10"),n.split("/100"),n.split("%")];return Number(r[t]?r[t][0]:"")}({ratingSourceInt:t,movieRatingString:n}),o=[r-g[t],r+g[t],r];return a===o[2]?0:a>=o[0]&&a<=o[1]?1:2}function h(e){var t=e.selectedIndex;function n(e){var n=e.index;return(0,s.jsx)("div",{className:"".concat(n==t?"galleryIconSelected":n<t?"galleryIconInactive":"galleryIconDefault")})}return(0,s.jsx)("div",{className:"galleryIconsDiv",children:(0,s.jsx)(function(e){for(var t=e.count,a=[],r=0;r<t;r++)a.push((0,s.jsx)(n,{index:r},r));return a},{count:3})})}var p=["Perfect Rating!","Pretty Close","Incorrect Rating"],S=["bg-[#00ad5c]","bg-[#02B99E]","bg-[#FF0000]"];function j(e){var t=e.visible,n=e.ratingSourceInt,a=e.actualMovieRating,r=e.playerMovieRating,o=e.playerStats,i=e.onNextMovie,l=x({ratingSourceInt:n,movieRatingString:a,playerMovieRating:r});function c(e){var t=e.titleText,n=e.statsText;return(0,s.jsxs)("div",{className:"divCenterHorizontalText",children:[(0,s.jsx)("p",{className:"scoreTextSecondary",children:t}),(0,s.jsx)("p",{className:"scoreTextPrimary",children:n})]})}return(0,s.jsx)(s.Fragment,{children:t&&(0,s.jsx)("div",{className:"fullScreenBlockingDiv",children:(0,s.jsxs)("div",{className:"".concat(S[l]," popupBackgroundDiv"),children:[(0,s.jsxs)("div",{className:"popupTextContainer",children:[(0,s.jsx)("p",{className:"popupTitleText",children:p[l]}),(0,s.jsx)(c,{titleText:"Your Rating:",statsText:"".concat(r)}),(0,s.jsx)(c,{titleText:"Actual Rating:",statsText:"".concat(a)}),(0,s.jsx)(c,{titleText:"Your Score Today:",statsText:o?"".concat(o.todaysScore):"No Stats"})]}),(0,s.jsx)("div",{onClick:function(){return null==i?void 0:i()},className:"submitButton",children:(0,s.jsx)("p",{children:"NEXT MOVIE"})})]})})})}function T(e){var t=e.visible,n=e.playerStats;function a(e){var t=e.text,n=e.stats;return(0,s.jsxs)("div",{className:"divCenterHorizontalText",children:[(0,s.jsx)("p",{className:"scoreTextSecondary",children:t}),(0,s.jsx)("p",{className:"scoreTextPrimary",children:null!=n?n:"No Stats"})]})}return(0,s.jsx)(s.Fragment,{children:t&&(0,s.jsx)("div",{className:"fullScreenBlockingDiv",onClick:function(e){e.stopPropagation()},children:(0,s.jsx)("div",{className:"popupBackgroundDiv bg-[#001f1a]",children:(0,s.jsxs)("div",{className:"popupTextContainer",children:[(0,s.jsx)("p",{className:"popupTitleText",children:"Thank you for playing today!"}),(0,s.jsx)(a,{text:"Today's Score:",stats:null==n?void 0:n.todaysScore}),(0,s.jsx)(a,{text:"Total Games Played:",stats:null==n?void 0:n.totalGamesPlayed}),(0,s.jsx)(a,{text:"Number of Perfect Games:",stats:null==n?void 0:n.totalPerfectGames})]})})})})}function b(e){return localStorage.getItem(e)}function I(e,t){localStorage.setItem(e,t)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=function(e){return"".concat(t).concat(e)};try{I(n("totalGamesPlayed"),String(e.totalGamesPlayed)),I(n("totalPerfectGames"),String(e.totalPerfectGames)),I(n("todaysScore"),String(e.todaysScore)),I(n("hasPlayedToday"),e.hasPlayedToday?"true":"false"),I(n("localGameIndex"),String(e.localGameIndex)),I(n("playerTheme"),e.playerTheme)}catch(e){console.error("Error saving player stats to localStorage",e)}console.log("SAVING LOCAL PLAYER STATS:"),console.log(e)}function P(e){var t=e.playerStats;document.body.classList.remove("lightmode"),document.body.classList.add("darkmode"),t.playerTheme="dark",N(t)}function R(e){var t=e.playerStats;document.body.classList.remove("darkmode"),document.body.classList.add("lightmode"),t.playerTheme="light",N(t)}function O(e){var t=e.playerStats;return(0,s.jsx)("div",{className:"switchThemeButton",onClick:function(){(null==t?void 0:t.playerTheme)==="light"?P({playerStats:t}):R({playerStats:t})},children:(0,s.jsx)("p",{children:"SWITCH THEME"})})}var G=[0,0,0],w=[10,100,100],C=[5,50,50],M=[.1,1,1],k=["IMDB","Rotten Tomatoes","Metacritic"];function D(){var e,t=i((0,c.useState)([]),2),o=t[0],m=t[1],v=i((0,c.useState)(0),2),g=v[0],p=v[1],S=i((0,c.useState)(C[0]),2),I=S[0],D=S[1],A=i((0,c.useState)(!1),2),E=A[0],B=A[1],L=i((0,c.useState)(null),2),F=L[0],_=L[1],Y=i((0,c.useState)(!1),2),H=Y[0],U=Y[1];return((0,c.useEffect)(function(){H||n(function(){var e,t;return(0,l.__generator)(this,function(a){switch(a.label){case 0:return[4,n(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,fetch("https://movie-rating-server-gpf9arfcesb5hahd.westus3-01.azurewebsites.net:443/MovieInfo",{method:"GET",headers:{Accept:"application/json"}})];case 1:if(!(e=t.sent()).ok)throw Error("Fetch movie data failed");return[4,e.json()];case 2:return[2,t.sent()]}})})()];case 1:var r;return m((e=a.sent()).movies),D(C[e.movies[0].RandomRatingInt]),(t=(r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=function(t){return"".concat(e).concat(t)},n=b(t("totalGamesPlayed")),a=b(t("totalPerfectGames")),r=b(t("todaysScore")),o=b(t("hasPlayedToday")),i=b(t("localGameIndex")),l=b(t("playerTheme"));if(![n,a,r,o,i,l].some(function(e){return null!==e}))return null;var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null===e)return t;var n=Number(e);return Number.isFinite(n)?n:t};return{totalGamesPlayed:s(n,0),totalPerfectGames:s(a,0),todaysScore:s(r,0),hasPlayedToday:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?t:"true"===e||"1"===e}(o,!1),localGameIndex:s(i,0),playerTheme:"light"===l||"dark"===l?l:"dark"}}())?(console.log("local data found:"),console.log(r),_(r),r):(console.log("no current local stats: saving new player stats"),N(u),_(u),u)).localGameIndex!==e.dailyId&&(t.hasPlayedToday=!1,t.localGameIndex=e.dailyId,t.todaysScore=0,console.log("Resetting Daily Stats"),console.log(t)),"light"===t.playerTheme?R({playerStats:t}):P({playerStats:t}),_(t),U(!0),N(t),[2]}})})()},[o,I,F,H]),H)?(0,s.jsx)("main",{className:"mainPage",children:(0,s.jsxs)("div",{className:"mainContainer",children:[(0,s.jsxs)("div",{className:"contentContainer",children:[(0,s.jsxs)("div",{className:"mainQuestionDiv",children:[(0,s.jsx)("p",{children:"What do you think"}),(0,s.jsxs)("p",{className:"movieTitleText",children:[o[g].Title," (",o[g].Year,")"]}),(0,s.jsxs)("p",{children:["is rated on ",k[o[g].RandomRatingInt],"?"]})]}),(0,s.jsx)(y,{movie:o[g]}),(0,s.jsxs)("div",{className:"controllerContentContainer",children:[(0,s.jsxs)("div",{className:"sliderContainer",children:[(0,s.jsx)("input",{type:"range",name:"ratingSlider",id:"ratingSlider",min:G[o[g].RandomRatingInt],max:w[o[g].RandomRatingInt],step:M[o[g].RandomRatingInt],value:I,onChange:function(e){return D(parseFloat(e.target.value))},className:"ratingSliderStyle"}),(0,s.jsxs)("label",{htmlFor:"ratingSlider",className:"sliderLabelText",children:["Your Rating: ",0===o[g].RandomRatingInt?Number(I).toFixed(1):I]})]}),(0,s.jsx)(function(e){var t=e.currentPlayerMovieRating,n=e.playerStats;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{onClick:function(){return function(){if(n){var e,a,r,i,l,s;a=(e={ratingSourceInt:o[g].RandomRatingInt,movieRatingString:o[g].RatingValue,playerMovieRating:t,playerStats:n}).ratingSourceInt,r=e.movieRatingString,i=e.playerMovieRating,l=e.playerStats,s=f[x({ratingSourceInt:a,movieRatingString:r,playerMovieRating:i})],l.todaysScore+=s,console.log("TODAYS SCORE: "+l.todaysScore),N(n)}B(!0)}()},className:"submitButton",children:(0,s.jsx)("p",{children:"SUBMIT RATING"})})})},{currentPlayerMovieRating:I,playerStats:F}),(0,s.jsx)(h,{selectedIndex:g})]})]}),(0,s.jsx)(j,{ratingSourceInt:o[g].RandomRatingInt,actualMovieRating:o[g].RatingValue,playerMovieRating:I,playerStats:F,visible:E,onNextMovie:function(){var e,t,n,i,l,s,c,d=(t=(e={currentIndex:g,arrayLength:o.length-1}).currentIndex)<e.arrayLength?t+1:null;d?(p(d),B(!1),D(C[o[d].RandomRatingInt])):(p(0),B(!1),D(C[o[0].RandomRatingInt]),F&&(i=(n={playedToday:!0,playerStats:F}).playedToday,l=n.playerStats,l.totalGamesPlayed+=1,s=o.length,c=f[0],l.todaysScore===c*s&&(l.totalPerfectGames+=1),_(function(e){var t=e?r(a({},e),{hasPlayedToday:i}):r(a({},u),{hasPlayedToday:i});return N(t),t})))}}),(0,s.jsx)(T,{visible:null!=(e=null==F?void 0:F.hasPlayedToday)&&e,playerStats:F}),(0,s.jsx)(O,{playerStats:null!=F?F:u})]})}):(0,s.jsx)(d,{text:"Could not load movie data from server. Please try again."})}}]);